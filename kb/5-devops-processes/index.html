<!doctype html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>5 бизнес-процессов в разработке - Об DevOps и архитектуру</title><meta name=viewport content="width=device-width,initial-scale=1"><meta itemprop=name content="5 бизнес-процессов в разработке"><meta itemprop=description content="Меня периодически спрашивают каким образом строить инфраструктуру для небольших проектов, когда в команде еще нет компетенций админа/девопс-инженера ни у руководителя или программистов, ни в в виде выделенного человека. Что при этом выбрать — выделенные сервера, облако или Kubernetes? Я сейчас не буду делать какие-то технологические рекомендации, но опишу на что нужно обратить внимание организационно, чтобы можно было сделать такой выбор.
При планировании развертывания любого приложения для продакшна важно всегда в том или ином виде продумывать как минимум следующие 5 бизнес-процессов / Value stream:"><meta itemprop=datePublished content="2023-01-02T21:20:16+03:00"><meta itemprop=dateModified content="2023-01-02T21:20:16+03:00"><meta itemprop=wordCount content="947"><meta property="og:url" content="https://timurb.ru/kb/5-devops-processes/"><meta property="og:site_name" content="Об DevOps и архитектуру"><meta property="og:title" content="5 бизнес-процессов в разработке"><meta property="og:description" content="Меня периодически спрашивают каким образом строить инфраструктуру для небольших проектов, когда в команде еще нет компетенций админа/девопс-инженера ни у руководителя или программистов, ни в в виде выделенного человека. Что при этом выбрать — выделенные сервера, облако или Kubernetes? Я сейчас не буду делать какие-то технологические рекомендации, но опишу на что нужно обратить внимание организационно, чтобы можно было сделать такой выбор.
При планировании развертывания любого приложения для продакшна важно всегда в том или ином виде продумывать как минимум следующие 5 бизнес-процессов / Value stream:"><meta property="og:locale" content="ru_ru"><meta property="og:type" content="article"><meta property="article:section" content="kb"><meta property="article:published_time" content="2023-01-02T21:20:16+03:00"><meta property="article:modified_time" content="2023-01-02T21:20:16+03:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="5 бизнес-процессов в разработке"><meta name=twitter:description content="Меня периодически спрашивают каким образом строить инфраструктуру для небольших проектов, когда в команде еще нет компетенций админа/девопс-инженера ни у руководителя или программистов, ни в в виде выделенного человека. Что при этом выбрать — выделенные сервера, облако или Kubernetes? Я сейчас не буду делать какие-то технологические рекомендации, но опишу на что нужно обратить внимание организационно, чтобы можно было сделать такой выбор.
При планировании развертывания любого приложения для продакшна важно всегда в том или ином виде продумывать как минимум следующие 5 бизнес-процессов / Value stream:"><link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel=stylesheet type=text/css><link rel=stylesheet type=text/css media=screen href=https://timurb.ru/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://timurb.ru/css/main.css><link rel=stylesheet type=text/css href=https://timurb.ru/css/custom.css><link id=dark-scheme rel=stylesheet type=text/css href=https://timurb.ru/css/dark.css><script src=https://timurb.ru/js/main.js></script></head><body><div class="container wrapper"><div class=header><h1 class=site-title><a href=https://timurb.ru/>Об DevOps и архитектуру</a></h1><div class=site-description><nav class="nav social"><ul class=flat></ul></nav></div><nav class=nav><ul class=flat><li><a href=../../about>Об авторе</a></li><li><a href=../../kb>Оглавление</a></li></ul></nav></div><div class=post><div class=post-header><div class=matter><h1 class=title>5 бизнес-процессов в разработке</h1></div></div><div class=meta><div class=date><small>Последнее обновление: 02 Jan 2023</small></div></div><div class=markdown><p>Меня периодически спрашивают каким образом строить инфраструктуру для небольших проектов, когда в команде еще нет компетенций админа/девопс-инженера ни у руководителя или программистов, ни в в виде выделенного человека.
Что при этом выбрать — выделенные сервера, облако или Kubernetes? Я сейчас не буду делать какие-то технологические рекомендации, но опишу на что нужно обратить внимание организационно, чтобы можно было сделать такой выбор.</p><p>При планировании развертывания любого приложения для продакшна важно всегда в том или ином виде продумывать как минимум следующие 5 бизнес-процессов / Value stream:</p><ul><li>процесс разработки приложений</li><li>процесс конфигурирования приложений</li><li>процесс настройки и конфигурирование серверов (или других сред выполнения)</li><li>процесс настройки и конфигурирования самого процесса сборки и деплоя</li><li>процесс настройки и конфигурирования вспомогательных сервисов (например, мониторинга, бэкапов и т.д.), сюда же я запишу базы данных, кэши, очереди и т.п.</li></ul><p><img src=../../images/5-devops-processes-1.png alt="Составляющие современной инфраструктуры"></p><p>Любая инсталляция, которая выходит за пределы ноутбука разработчика будет состоять как минимум из компонентов указанных на иллюстрации (стикеры синего и зеленого цвета).</p><p>Каждый из этих компонентов каким-то образом настраивается первоначально, в него каким-то образом регулярно вносятся изменения, ну и когда-то каждый из этих компонент скорее всего будет выведен из эксплуатации и заменен на какой-то другой. Также в том или ином виде происходит текущая поддержка каждого из этих компонентов — обеспечение работоспособности и реакция на инциденты.</p><p><img src=../../images/5-devops-processes-2.png alt="Жизненный цикл объекта"></p><p>Это составляющие каждого из наших 5 основных процессов, итого у нас получается не меньше 20 типовых операций или процессов, которые присутствуют в абсолютно любой современной инсталляции.</p><p>Соотвественно необходимо продумать каким именно образом это будет происходить, как будут происходить эти операции. Конечно, если мы хотим в той или иной мере сохранять контроль над нашей инсталляцией.</p><p>А в первую очередь как во все эти компоненты будут вноситься изменения, и как будет происходить текущая поддержка — т.к. эти операции и процессы ключевые для работающей системы и выполняются чаще всего.</p><p>В начале статьи я намеренно написал “бизнес-процессы / Value Streams”, т.к. что именно это будет определяем мы как технический руководитель. Это могут быть классические инструкции в виде чеклиста или BPMN-диаграммы, в этом случае про них уместно говорить как о “бизнес-процессах”. Это могут быть насквозь автоматизированные Software Defined Processes и в этом случае мы о них скорее всего будем говорить как о Value Stream. Часто противопоставляя DevOps и “классическое IT” имеют в виду смену именно этой парадигмы — замену “бизнес-процессов” на “Value Stream”.</p><p>Ну либо мы можем полностью делегировать этот процесс некоему сотруднику (сисадмину, либо Devops-инженеру) не задумываясь о том, что в этом процессе происходит, и надеяться, что когда рано или поздно этот сотрудник уйдет, новый сотрудник на его замену сможет в этом хозяйстве разобраться. Если мы принимаем этот риск, то в этом случае строго говоря нам действительно не важно как этот сотрудник работает — копипастит ли артефакты через FTP, или же пишет портянки кода на Ansible и Terraform.</p><p>Ключевое здесь в том, что для того чтобы наш продакшн и разработка вели себя предсказуемо для нас необходимо:</p><ul><li>Выделить компоненты, которые участвуют в процессе разработки-поставки-эксплуатации. Один из примеров такого компонентного разбиения приведен на картинке.</li><li>Для каждого из компонентов определиться каким образом будут в него вноситься изменения, кто за это отвечает, и сколько ответственности делегировать этим людям или скриптам.</li><li>Следить за тем, что если у нас появляются новые компоненты, для каждого из них мы будем принимать эти же решения.</li></ul><p>Для сложных инсталляций, естественно, компонентов может быть больше. Например из “Конфигурации приложения” зачастую можно выделить “Секреты”, “Endpoints” и “Функциональную конфигурацию” (относящуюся к логике приложения). Или “Среда выполнения” может состоять как из “Виртуальных серверов”, так и “Оркестратора”.</p><p>Для каждого из таких компонентов них необходимо тоже прорабатывать соответствующий процесс внесения изменения. Как мы уже говорили выше, в зависимости от того какой дорогой мы выбрали идти это могут быть как развесистые инструкции, так и скрипты автоматизации. Либо вообще у нас будут отдельные сервисы — они будут управлять этими компонентами и возьмут на себя всю сложность. К примеру, если держать секреты в Vault весь процесс внесения изменений в секреты будет состоять из минимум двух шагов:</p><ul><li>Меняем секрет через UI Vault</li><li>Наши скрипты автоматизации раскатывают эти секреты по всем сервисам</li></ul><p>Но тут встает интересный вопрос: что делать с внесением изменений в эту самую автоматизацию? Ответ простой — автоматизация это по сути код, мы применяем подход Infrastructure as Code. А точнее, у нас появляется Infrastructure as Code как <em>процесс разработки</em>, и это не то же самое, что Infrastructure as Scripts как очень часто бывает. Соответственно, для упрощения планирования и работы мы начинаем применять классические практики разработки: прорабатываем компонентную модель кода, описывающего нашу инфраструктуру, прорабатываем форматы и последовательности обмена сообщениями в нашей инфре (например, какой скрипт какие хуки дергает и что передает), строим релизный процесс для инфраструктурного кода, прорабатываем бэклог фич — одним словом, работаем с инфраструктурой так, как будто это еще один компонент приложения.</p><p>И наконец мы приходим к главному вопросу: что со всем этим знанием делать?</p><p>Если у вас маленькая инсталляция и небольшая частота изменений в инфраструктуре:</p><ul><li>прописать упомянутые 5 процессов в том виде, в каком они по факту используются. Это может быть одна строчка “собираем всю команду и решаем как и что будем делать”, и это нормально</li><li>подумать не пропустили ли чего, и можно ли эти процессы улучшить</li><li>прикинуть сколько мы сможем жить с такими процессами и когда начнем упираться в их эффективность</li></ul><p>Если у вас инсталляция большая и изменений в инфраструктуре много:</p><ul><li>развитие инфраструктурных компонентов осуществлять через практики разработки софта (классические “описание фичи -> бэклог -> разработка -> тестирование -> релиз -> стейджинг -> продакшн”)</li><li>выделить компоненты данных в инфраструктуре и прописать процесс работы с ними (это могут быть, например, конфигурация, секреты и т.д.). Возможно в результате этого у вас появятся задачи в бэклог инфраструктурной разработки</li><li>выделить оставшиеся компоненты и процессы, для которых мы не применяем IaC (например “восстановление из бэкапа”, или “реакция на инцидент”) и прописать процесс работы с ними</li></ul><p>Есть ли какие-то типовые процессы, которые важно реализовать, но которые я здесь не учел?</p></div><div class=tags></div><script src=https://utteranc.es/client.js repo=timurb/timurb.github.io issue-term=pathname label=comment theme=preferred-color-scheme crossorigin=anonymous async></script></div></div><div class="footer wrapper"><nav class=nav><div>2025 <a href=https://github.com/knadh/hugo-ink>Ink</a> theme on <a href=https://gohugo.io>Hugo</a></div></nav></div><script async src="https://www.googletagmanager.com/gtag/js?id=G-XHRMHV11BE"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XHRMHV11BE")}</script></body></html>