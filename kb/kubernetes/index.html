<!doctype html><html>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge"><title>Kubernetes - Об DevOps и архитектуру</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta itemprop=name content="Kubernetes">
<meta itemprop=description content="[[Kubernetes]] &ndash; это runtime для для написания распределенных инфраструктурных приложений с использованием [[Operator pattern]], плюс оркестратор контейнеров.
Ключевые составляющие:
 Хранилище описаний объектов Модель нотификаций об изменениях как описаний, так и самих объектов Готовые простые инструменты для работы с хранилищем и событиями Мутноватый, но в целом неплохой stdlib для того, чтобы это было применимо к реальным вещам (запуск контейнеров, модель прав доступа и ограничений ресурсов и т.д.) Встроенный оркестратор контейнеров, за счет которого появляется возможность через эти механизмы достраивать самого себя  Иными словами, это state-machine интегрированная с оркестратором."><meta itemprop=datePublished content="2021-08-03T15:05:22+03:00">
<meta itemprop=dateModified content="2021-08-03T15:05:22+03:00">
<meta itemprop=wordCount content="457">
<meta itemprop=keywords content="оркестраторы,cloud native,"><meta property="og:title" content="Kubernetes">
<meta property="og:description" content="[[Kubernetes]] &ndash; это runtime для для написания распределенных инфраструктурных приложений с использованием [[Operator pattern]], плюс оркестратор контейнеров.
Ключевые составляющие:
 Хранилище описаний объектов Модель нотификаций об изменениях как описаний, так и самих объектов Готовые простые инструменты для работы с хранилищем и событиями Мутноватый, но в целом неплохой stdlib для того, чтобы это было применимо к реальным вещам (запуск контейнеров, модель прав доступа и ограничений ресурсов и т.д.) Встроенный оркестратор контейнеров, за счет которого появляется возможность через эти механизмы достраивать самого себя  Иными словами, это state-machine интегрированная с оркестратором.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://timurb.ru/kb/kubernetes/"><meta property="article:section" content="kb">
<meta property="article:published_time" content="2021-08-03T15:05:22+03:00">
<meta property="article:modified_time" content="2021-08-03T15:05:22+03:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Kubernetes">
<meta name=twitter:description content="[[Kubernetes]] &ndash; это runtime для для написания распределенных инфраструктурных приложений с использованием [[Operator pattern]], плюс оркестратор контейнеров.
Ключевые составляющие:
 Хранилище описаний объектов Модель нотификаций об изменениях как описаний, так и самих объектов Готовые простые инструменты для работы с хранилищем и событиями Мутноватый, но в целом неплохой stdlib для того, чтобы это было применимо к реальным вещам (запуск контейнеров, модель прав доступа и ограничений ресурсов и т.д.) Встроенный оркестратор контейнеров, за счет которого появляется возможность через эти механизмы достраивать самого себя  Иными словами, это state-machine интегрированная с оркестратором.">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700" rel=stylesheet type=text/css>
<link rel=stylesheet type=text/css media=screen href=https://timurb.ru/css/normalize.css>
<link rel=stylesheet type=text/css media=screen href=https://timurb.ru/css/main.css>
<link rel=stylesheet type=text/css href=https://timurb.ru/css/custom.css>
<link id=dark-scheme rel=stylesheet type=text/css href=https://timurb.ru/css/dark.css>
<script src=https://timurb.ru/js/main.js></script>
</head>
<body>
<div class="container wrapper">
<div class=header>
<h1 class=site-title><a href=https://timurb.ru/>Об DevOps и архитектуру</a></h1>
<div class=site-description><nav class="nav social">
<ul class=flat></ul>
</nav>
</div>
<nav class=nav>
<ul class=flat>
<li>
<a href=../../about>Об авторе</a>
</li>
<li>
<a href=../../blog>Блог</a>
</li>
<li>
<a href=../../kb>Определения</a>
</li>
</ul>
</nav>
</div>
<div class=post>
<div class=post-header>
<div class=matter>
<h1 class=title>Kubernetes</h1>
</div>
</div>
<div class=meta>
<div class=date>
<small>Последнее обновление: 03 Aug 2021</small>
</div>
</div>
<div class=markdown>
<p><a href=../../kb/kubernetes/>Kubernetes</a> &ndash; это runtime для для написания распределенных инфраструктурных приложений с использованием <a href=../../kb/operator-pattern/>Operator pattern</a>, плюс оркестратор контейнеров.</p>
<p>Ключевые составляющие:</p>
<ul>
<li>Хранилище описаний объектов</li>
<li>Модель нотификаций об изменениях как описаний, так и самих объектов</li>
<li>Готовые простые инструменты для работы с хранилищем и событиями</li>
<li>Мутноватый, но в целом неплохой stdlib для того, чтобы это было применимо к реальным вещам (запуск контейнеров, модель прав доступа и ограничений ресурсов и т.д.)</li>
<li>Встроенный оркестратор контейнеров, за счет которого появляется возможность через эти механизмы достраивать самого себя</li>
</ul>
<p>Иными словами, это state-machine интегрированная с оркестратором. За счет этого у него появляются свойства, которые по-отдельности отсутствуют как у оркестраторов, так и у state-machine.</p>
<p>Из этого сразу вытекает много особенностей:</p>
<ul>
<li>Этот рантайм нужно уметь запускать и поддерживать, и это не очень тривиально</li>
<li>Много внутренностей рантайма видны пользователю, хотя никогда не будут использованы (повышенная когнитивная нагрузка)</li>
<li>Достаточно сложный пользовательский интерфейс &ndash; интерфейс к рантайму/API, а не к пользовательской функциональности (повышенная когнитивная нагрузка).</li>
<li>Средства программирования под него достаточно скудные &ndash; наиболее распространены препроцессоры/шаблонизаторы (повышенная когнитивная нагрузка и вероятность ошибок). Высокоуровневые есть (<a href=../../kb/operator-pattern/>Operator pattern</a>), но их мало кто умеет</li>
<li>Большое число &ldquo;знающих кубер&rdquo; умеют лишь работать с его API и писать под него только на препроцессоре</li>
<li>Чаще всего интерфейс для команд разработки к нему останется на уровне &ldquo;сложные и непонятные API, завернутые в протекающую абстракцию&rdquo;, либо &ldquo;обратитесь к своему девопс-инженеру и он вам все сделает&rdquo;</li>
</ul>
<p>Из плюсов:</p>
<ul>
<li>Сейчас много инфраструктурного софта разрабатывается с расчетом того, что будет ставиться в кубер (это минус софту, но плюс куберу)</li>
<li>Есть managed варианты (для других оркестраторов это далеко не всегда так)</li>
<li>Оркестратор мощнее, чем аналоги</li>
<li>Модульный и его можно расширять, наверное, бесконечно (если вам это нужно и вы это умеете)</li>
<li>Большое сообщество как в плане найма, так и поддержки</li>
<li>В него нативно интегрируются <a href=../../kb/open-standards/>Открытые стандарты</a></li>
</ul>
<p>Главные условия использования <a href=../../kb/kubernetes/>Kubernetes</a>:</p>
<ul>
<li>Оценить в числах экономику использования (в т.ч. продуктивности использования программистами и поддержки) &ndash; как затраты, так и преимущества</li>
<li>Спроектировать платформу, которая на нем будет строиться, или заложить точки расширения для ее строительства в будущем:
<ul>
<li>Инфраструктурные слои:
<ul>
<li>инструменты управления для каждого слоя</li>
<li>расположение кода для каждого слоя</li>
<li>способы раскатки каждого слоя</li>
<li>зоны ответственности команд за тот или иной слой</li>
</ul>
</li>
<li>Доработать процессы разработки <strong><em>продуктовых</em></strong> команд под использование кубера:
<ul>
<li>интерфейсы к платформе для команд (деплой, отладка, мониторинг логирование). Не путать интерфейсы и инструменты.</li>
<li>процесс разворачивания песочниц для команд</li>
<li>прочие рабочие процессы команд (обновление приложения в песочнице, отладка приложения в песочнице, хотфиксы приложения в песочнице и т.д.)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Проектировать и реализовывать необходимо одновременно как продакшн, так и песочницы. И то и другое может быть как простой, так и сложной задачей в зависимости от конкретного случая.
Если не реализовать песочницы, они никогда в полной мере не будут реализованы, а разработчики будут страдать и их продуктивность работы будет снижена.</p>
<p>Для успешности использования <a href=../../kb/kubernetes/>Kubernetes</a> необходим человек, который даст ответ на все эти вопросы.</p>
</div>
<div class=tags>
<ul class=flat>
<li><a href=../../tags/%D0%BE%D1%80%D0%BA%D0%B5%D1%81%D1%82%D1%80%D0%B0%D1%82%D0%BE%D1%80%D1%8B>оркестраторы</a></li>
<li><a href=../../tags/cloud-native>cloud native</a></li>
</ul>
</div>
<script src=https://utteranc.es/client.js repo=timurb/timurb.github.io issue-term=pathname label=comment theme=preferred-color-scheme crossorigin=anonymous async></script>
</div>
</div>
<div class="footer wrapper">
<nav class=nav>
<div>2021 <a href=https://github.com/knadh/hugo-ink>Ink</a> theme on <a href=https://gohugo.io>Hugo</a></div>
</nav>
</div>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XHRMHV11BE"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-XHRMHV11BE',{anonymize_ip:!1})}</script>
</body>
</html>